---
title: Event Sourcing - Chapter 4
image: /assets/images/package-delivery.jpg
author: Sam Schneider
categories:
  - technology
  - event-sourcing
  - event-sourcing-tutorial
layout: post
---

We arrive at the AirBnb Friday night about 7pm. It's getting dark but as we drive down the driveway we can see the landscape lights ahead. Lily booked a nice one. I wonder if staying in such a nice place is a good idea with me being so close to losing my job.

Max is freaking out with excitement. There are woods all around. He's brought his scout compass and is determined to explore the nearby hiking trails. Jenny is quieter, but you can see from her face that she needed this weekend away too. I wonder if she feels any of the stress I do. She's very sweet with us, but I can never tell how deeply she is considering an issue. When she opens her mouth, I realize it's pretty deep.

"Dad, we're going to need some outside help while we work on your packages issue. Who can we call?"

Before I can open my mouth, Lily almost shouts, "Oh I forgot to tell you, Adil said before he left that you should call him sometime to talk about your company software."

"What subject does Adil teach?" I ask. I remember he's some kind of professor. That's how Lily knows him. They met at some academic conference. She her area of expertise is organizational change management.

"He's been mostly focused on research around international logistics and supply chains," she says.

Lily pops open her phone and keys in the front door code. We hear the beep as it unlocks. Max pushes past us with an arm full of three stuffed animals and a bulging backpack. He runs into the master bedroom and throws himself down, "I claim this one!" he shouts. It takes us ten minutes to clear him out into one of the downstairs bedrooms.

I begin to set out ingredients for the evening dinner. The doorbell rings and Jenny fairly runs to the door. Uncle Rick. He's barely in the living room before Max crests the staircase and tackles him to the floor.

After several minutes of wrestling where I have to shout at Max several times to be nice, he emerges. His hair is slightly messed up for a change. He adjusts his glasses and smiles at me.

"So Bill, I hear you're about to lose your job."

The kids get silent. We've never quite put it this bluntly to them before.

"Not yet, I've still got a week to figure things out. But this weekend is pretty much our last chance. If we don't have a plan out of here to try out next week, I'll probably need to resign by the end of the week."

Jenny's eyes are wide. Did I not explain this clearly before?

Rick seems to sense the tension suddenly. He grabs his backpack from the floor where he dropped it before the wrestling began and pulls out the latest edition of a MacBook Air.

"No problem buddy," he says, "that's why I brought this bad boy. There's no problem a little well-written software can't solve."

I almost quip about software not having been very helpful with the national debt crisis, but decide to put a bold face on things.

"What language are we using this week Rick?"

He seems to not get the sarcasm. He changes his primary coding language every time I see him.

"Python," he says. "Unless you have some kind of server performance issue, and then of course it would be Rust."

"I've heard of Python," I say, realizing how pretentious I sound.

"The ole standby," he says. Then he drops his computer on the table, pops it open and begins typing at a black terminal screen. Max is instantly glued to his shoulder.

"What's that Uncle Rick? Is that Python Uncle Rick? What's Python Uncle Rick? At school they're teaching us Scratch. Do you know Scratch Uncle Rick?"

"Is this fridge from Star Treck?" asks Lily.

She's standing in front of the refrigerator. It has a huge screen on the front door that displays a live video feed of the items inside. We all come over and stare. It's probably because our fridge is about twenty years old. Lily hits a button and an inventory pops up that lists all of the items in the fridge.

"Hey dad, it's kinda like youre warehouse computer program," says Max who has visited the office before and watched me work with the warehouse inventory management system.

At first, I think he's just being a ten year old. But as I look more closely, it is like my warehouse management system. Everything in the fridge has an inventory count displayed on the screen. I'm curious. I open the fridge and take out a bottle of soy sauce. When I close the fridge, the soy sauce is gone from the inventory. Uncle Rick is fascinated and keeps taking out the soy sauce, holding it at different angles and partially covering the label in varying degrees.

Dinner takes over an hour to prepare. It's past eight before we sit down to eat. Max asks to pray for the food.

"Lord, please help us figure out daddy's problem tonight. And thank you for this food."

Rick suddenly stands up from the table: "I forgot something."

He disappears for a minute. We hear the front door opening and he's carrying a huge whiteboard into the house. He sets it up on a big stand behind the table.

"Hopelly you guys don't mind me taking some notes while we eat."

None of us object.

"So Bill, what would you say is your main problem at the warehouse?"

"Losing packages," I say.

Max chimes in: "You also say you never really know if the status of any package is accurate."

Jenny: "And you also say that you can't accurately predict when an item will be shipped from the warehouse."

Rick writes down the following:

* Losing packages
* Inaccurate statuses
* Unable to predict based on past history

"Anything else?" he asks.

"Yes," says Lily, "but these are the ones I hear Bill talk about the most."

Rick leans over to the table and take a bite of food.

"Ok, so what are the potential causes of the problems?" he asks.

"Lazy employees," says Jenny.

I glance at her.

"Sorry dad, sometimes you do say they aren't careful with data entry."

"Unreasonable boss," says Max.

"I agree," laughs Lily.

"Bad software?" says Rick.

"That's what you say is the source of all the world's problems," I say.

He grins, "True."

He adds to the board:

* Inadequate employee training
* Impossible situation (thus unreasonable management)
* Insufficient software

Now Lily stands up and grabs the dry erase marker from Rick.

"Let's take these one by one," she says. Her classroom poise is evident. Her students are also lucky to have such an attractive teacher.

"Focus Bill," she barks.

I grin.

"I was distracted by the teacher."

She blushes ever so slightly and continues.

"Inadequate employee training," she says, "or as Jenny put it more bluntly, 'Lazy employees.'"

"Hey, I'm just going based off what dad says," protests Jenny.

"Bill, would you agree that this is a problem?"

"We hire people for $15/hr, most of whom would rather be at home playing video games or watching Netflix," I say. "Plus, there aren't that many people who wake up in the morning to work in a semi-airconditioned warehouse."

"So we agree that it's a problem," says Lily. "Could it be *the* problem?"

"Most of the lost packages are due to employees incorrectly changing the status of the packages in the system," I say. "That covers two of the three core issues we mentioned, plus those are the two I'm about to lose my job over."

"We'll keep that as the primary suspect," says Lily.

"On to item number two: impossible situation, and by deduction unreasonable management."

"Are you saying that dad's boss is allowed to talk mean to him?" asks Max.

"No, not at all," says Lily, "but I am asking, is dad's boss reasonable to expect almost no lost packages in an entire year? Should he expect to get accurate estimates on when a package will leave the warehouse?"

When she puts it that way, Gerald actually seems reasonable, even if his methods are less than cordial.

"When I order a package on Amazon," says Jenny, "it pretty much always has an accurate ship date and so far they've never lost one. If they can do it, I'm sure dad can do it."

I almost mention that they have billions of dollars and I have two thousand dollars a year to plan the warehouse picnic, but Lily cuts me off before my words complete the trip from my brain to my mouth.

"I think we can agree that Gerald's expectations are not unreasonable, which brings us to the final possible problem: insufficient software."

"C'mon guys," I say, "This software was written by an expert ERP team. It has been deployed in the field for 20 plus years and we pay as a company like $250,000 a year for the license."

Uncle Rick tries to hide a smirk. Tech guys always suspect anything released more than 5 years ago.

"When was the last major update?" he asks.

I pause. Someone mentioned this at the last warehouse manager retreat.

"8 years ago, I think."

"So however great their software is, it's build on top of at least 8 year old management principles," he says. "And, knowing what a major update usually entails, the heart of the system almost surely wasn't overhauled, which means the software itself is probably running on 20 year old principles.

I raise my eyebrows and shrug my shoulders in assent, doing my best Marlon Brando Godfather impression.

"So our two contenders are poorly trained employees and insufficient software," summarizes Lily. "Bill said that most of the problems are due to employees incorrectly entering items into the system."

"The poorly trained employees enter incorrect information into an insufficient system," laughs Jenny. "Maybe Gerald's expectations are unreasonable after all."

We all laugh. Everyone takes a pause to eat. Well, except for Max who has pretty much been eating this whole time.

After a few minutes Lily stands up again, brandishing a purple marker.

"Bill, if you could completely perfect your training system and you knew who all your bad employees were, and could replace them all with good employees within one month, do you think you would meet Gerald's expectations?" she asks.

"No, not when you put it that way," I say. "Even the most conscientious employees will make data entry mistakes under the day to day pressures we are often under. Anyway no way that I could suddenly find all amazing employees in the next month, even if it would work."

Lily draws a purple line through "Inadequate employee training" and also "Impossible situation."

"The only thing left is bad software," she says.

"Great," I say. "If you think magically replacing poor $15/hr workers with stellar $15/hr workers is hard, then you have no idea how much harder it will be to replace a multi-million dollar computer system in a month when I have absolutely no budget or buy-in from management that this is even a problem. Whenever management spends a lot of money on something they usually assume it must be amazing."

Silence decends. Which Jenny breaks with a simple, "Dad, it's ok, I don't mind trying out for a new volleyball team. Besides, I'm probably not good enough to get a scholarship anyway."

This sets Uncle Rick in motion. At first I thought he was going to offer to pay for Jenny's final year of tution at All Saints, but instead he's going off on something called a hackathon.

"It goes like this," he says, "a hackathon is where software developers get together and prototype software, using every quick and dirty shortcut they can, trying to see if they can come up with working software within a short period, usually in 24, 36 or 72 hours. What if we take this weekend as a hackathon and try to write some proof of concept software?"

"But none of us are software developers besides you," I say.

"That's fine," he says. "The hardest part of software is deciding *what* you will write. I'm going to need all of you guys for that."

[< Previous chapter](/blog/event-sourcing-chapter-3) | [Next chapter >](/blog/event-sourcing-chapter-5)
